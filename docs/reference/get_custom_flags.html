<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Creates dataframe(s) summarizing data quality — get_custom_flags • QCkit</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creates dataframe(s) summarizing data quality — get_custom_flags"><meta name="description" content='
get_custom_flags returns data frames that that summarize data
quality control flags (one that summarizes at the data file level and one for each column). The summaries include all data
with quality control flagging (a column name that ends in "_flag") and
optionally any additional custom columns the user specifies, either by column
name or number.
The use can specify which of the 2 data frames (or all as a list of
dataframes) should be returned.
The number of each flag type for each column (A, AE, R, P) is reported.
Unflagged columns are assumed to have only accepted (or missing) data. The
total number of data points in the specified columns (and data flagging
columns for) each .csv are also reported. NAs considered missing data. An
Unweighted Relative Response (RRU) is calculated as the total number of
accepted data points (A, AE, and data that are not flagged) divided by the
total number of data points (excluding missing values) in all specified
columns (and the flagged columns).'><meta property="og:description" content='
get_custom_flags returns data frames that that summarize data
quality control flags (one that summarizes at the data file level and one for each column). The summaries include all data
with quality control flagging (a column name that ends in "_flag") and
optionally any additional custom columns the user specifies, either by column
name or number.
The use can specify which of the 2 data frames (or all as a list of
dataframes) should be returned.
The number of each flag type for each column (A, AE, R, P) is reported.
Unflagged columns are assumed to have only accepted (or missing) data. The
total number of data points in the specified columns (and data flagging
columns for) each .csv are also reported. NAs considered missing data. An
Unweighted Relative Response (RRU) is calculated as the total number of
accepted data points (A, AE, and data that are not flagged) divided by the
total number of data points (excluding missing values) in all specified
columns (and the flagged columns).'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">QCkit</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/DRR_Purpose_and_Scope.html">DRR Purpose and Scope</a></li>
    <li><a class="dropdown-item" href="../articles/Starting-a-DRR.html">Starting a DRR</a></li>
    <li><a class="dropdown-item" href="../articles/Using-the-DRR-Template.html">Using the DRR Template</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nationalparkservice/QCkit/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Creates dataframe(s) summarizing data quality</h1>
      <small class="dont-index">Source: <a href="https://github.com/nationalparkservice/QCkit/blob/HEAD/R/summarize_qc_flags.R" class="external-link"><code>R/summarize_qc_flags.R</code></a></small>
      <div class="d-none name"><code>get_custom_flags.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
get_custom_flags returns data frames that that summarize data
quality control flags (one that summarizes at the data file level and one for each column). The summaries include all data
with quality control flagging (a column name that ends in "_flag") and
optionally any additional custom columns the user specifies, either by column
name or number.</p>
<p>The use can specify which of the 2 data frames (or all as a list of
dataframes) should be returned.</p>
<p>The number of each flag type for each column (A, AE, R, P) is reported.
Unflagged columns are assumed to have only accepted (or missing) data. The
total number of data points in the specified columns (and data flagging
columns for) each .csv are also reported. NAs considered missing data. An
Unweighted Relative Response (RRU) is calculated as the total number of
accepted data points (A, AE, and data that are not flagged) divided by the
total number of data points (excluding missing values) in all specified
columns (and the flagged columns).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_custom_flags</span><span class="op">(</span></span>
<span>  directory <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  cols <span class="op">=</span> <span class="op">(</span><span class="st">""</span><span class="op">)</span>,</span>
<span>  output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"files"</span>, <span class="st">"columns"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-directory">directory<a class="anchor" aria-label="anchor" href="#arg-directory"></a></dt>
<dd><p>is the path to the data package .csv files (defaults to the
current working directory).</p></dd>


<dt id="arg-cols">cols<a class="anchor" aria-label="anchor" href="#arg-cols"></a></dt>
<dd><p>A comma delimited list of column names. If left unspecified,
defaults to just flagged columns.</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>A string indicating what output should be provided. "columns"
returns a summary table of QC flags and RRU values in each specified column
for every data file. "files" returns a summary table of total QC flags and
mean across each data file. "all" will return all three
data frames in a single list.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a dataframe with quality control summary information summarized at
the specified level(s).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Flagged columns must have names ending in "_flag". Missing values
must be specified as NA.  The function counts cells within "*_flag" columns
that start with one of the flagging characters (A, AE, R, P) and ignores
trailing characters and white spaces. For custom columns that do not include
a specific flagging column, all non-missing (non-NA) values are considered
Accepted (A).</p>
<p>The intent of get_custom_flags is for integration into reports on data
quality, such as Data Release Reports (DRRs).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_custom_flags</span><span class="op">(</span><span class="st">"~/my_data_package_directory"</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scientificName"</span>,</span></span>
<span class="r-in"><span>                                                         <span class="st">"locality"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                                         output<span class="op">=</span><span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"mydata.csv"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">10</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu">get_custom_flags</span><span class="op">(</span>cols <span class="op">=</span> <span class="va">cols</span>, output<span class="op">=</span><span class="st">"files"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Baker, Judd Patterson, Joe DeVivo, Issac Quevedo, Sarah Wright.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

